{"version":3,"sources":["components/Button/Button.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","services/api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","getImages","query","page","url","axios","get","Searchbar","state","value","handleChange","event","target","setState","handleSubmit","preventDefault","props","onSubmit","this","className","styles","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","placeholder","Component","ImageGalleryItem","image","key","smallUrl","onOpenModal","onClick","src","alt","Image","ImageGallery","prevProps","prevState","images","window","scrollTo","top","document","documentElement","scrollHeight","behavior","map","uuid","Loader","Container","color","height","width","timeout","Button","isLoading","Modal","overlayRef","createRef","handleKeyPress","code","onCloseModal","handleOverlayClick","current","addEventListener","removeEventListener","Overlay","ref","modalImage","mapper","items","id","webformatURL","largeUrl","largeImageURL","App","searchQuery","isModalOpen","handleSearch","getImagesData","API","then","data","concat","hits","catch","console","log","finally","handleLoadButton","openModal","bigImage","find","closeModal","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.66965d17.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Button_Container__28qGM\",\"Button\":\"Button_Button__39oNa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__sCGY-\",\"Modal\":\"Modal_Modal__2kDSQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3R8QI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__27xuN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Loader_Container__1fRoj\"};","import axios from 'axios';\r\n\r\nexport const getImages = (query, page) => {\r\n  const KEY = '14966503-8c2cc7e35fab5f49b5ff89f4d';\r\n  const url = `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  return axios.get(url);\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { value } = event.target;\r\n\r\n    this.setState({ value: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const { value } = this.state;\r\n\r\n    this.props.onSubmit(value);\r\n\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            value={value}\r\n            onChange={this.handleChange}\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ image: { key, smallUrl }, onOpenModal }) => {\r\n  return (\r\n    <div>\r\n      <li\r\n        key={key}\r\n        className={styles.ImageGalleryItem}\r\n        onClick={() => onOpenModal(key)}\r\n      >\r\n        <img src={smallUrl} alt=\"\" className={styles.Image} />\r\n      </li>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    key: PropTypes.number.isRequired,\r\n    smallUrl: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from 'react';\r\nimport { uuid } from 'uuidv4';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ImageGallery extends Component {\r\n  static propTypes = {\r\n    images: PropTypes.array.isRequired,\r\n    onOpenModal: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {};\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.images !== this.props.images) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { images, onOpenModal } = this.props;\r\n\r\n    return (\r\n      <ul className={styles.ImageGallery}>\r\n        {images.map(image => (\r\n          <ImageGalleryItem\r\n            key={uuid()}\r\n            image={image}\r\n            onOpenModal={onOpenModal}\r\n          />\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n// const ImageGallery = ({ children, ref }) => (\r\n//   <div ref={ref}>\r\n//     <ul className={styles.ImageGallery}>{children}</ul>\r\n//   </div>\r\n// );\r\n\r\n// PropTypes.propTypes = {\r\n//   children: PropTypes.node.isRequired,\r\n// };\r\n\r\n// export default ImageGallery;\r\n","import React from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport styles from './Loader.module.css';\r\nimport Oval from 'react-loader-spinner';\r\n\r\nconst Loader = () => (\r\n  <div className={styles.Container}>\r\n    <Oval type=\"Oval\" color=\"#1b6eb6\" height={100} width={100} timeout={3000} />\r\n  </div>\r\n);\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport Loader from '../Loader/Loader';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onClick, isLoading }) => (\r\n  <div className={styles.Container}>\r\n    {isLoading ? (\r\n      <Loader />\r\n    ) : (\r\n      <button className={styles.Button} onClick={onClick} type=\"button\">\r\n        Load More\r\n      </button>\r\n    )}\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component, createRef } from 'react';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends Component {\r\n  overlayRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = event => {\r\n    const { current } = this.overlayRef;\r\n\r\n    if (current && event.target === current) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className={styles.Overlay}\r\n        ref={this.overlayRef}\r\n        onClick={this.handleOverlayClick}\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.modalImage} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  modalImage: PropTypes.string.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport styles from './App.module.css';\r\nimport * as API from '../../services/api';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nimport Loader from '../Loader/Loader';\r\n\r\nconst mapper = items => {\r\n  return items.map(\r\n    ({ id: key, webformatURL: smallUrl, largeImageURL: largeUrl }) => ({\r\n      key,\r\n      smallUrl,\r\n      largeUrl,\r\n    }),\r\n  );\r\n};\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    searchQuery: '',\r\n    page: 1,\r\n    modalImage: '',\r\n    isLoading: false,\r\n    isModalOpen: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    if (prevState.page !== page || prevState.searchQuery !== searchQuery) {\r\n      this.getImagesData(searchQuery, page);\r\n    }\r\n  }\r\n\r\n  handleSearch = query => {\r\n    this.setState({ searchQuery: query, page: 1, images: [] });\r\n  };\r\n\r\n  getImagesData = (query, page) => {\r\n    this.setState({ isLoading: true });\r\n\r\n    API.getImages(query, page)\r\n      .then(({ data }) => {\r\n        this.setState(state => ({\r\n          images: state.images.concat(mapper(data.hits)),\r\n        }));\r\n      })\r\n      .catch(console.log)\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  handleLoadButton = () => {\r\n    this.setState(state => ({\r\n      page: state.page + 1,\r\n    }));\r\n  };\r\n\r\n  openModal = key => {\r\n    const { images } = this.state;\r\n\r\n    const imageData = images.find(image => image.key === key);\r\n    const bigImage = imageData.largeUrl;\r\n\r\n    this.setState({ isModalOpen: true, modalImage: bigImage });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ isModalOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const { images, isLoading, isModalOpen, modalImage } = this.state;\r\n\r\n    return (\r\n      <div className={styles.App}>\r\n        <Searchbar onSubmit={this.handleSearch} />\r\n        {isLoading && <Loader />}\r\n        {!!images.length && (\r\n          <>\r\n            <ImageGallery images={images} onOpenModal={this.openModal} />\r\n            <Button onClick={this.handleLoadButton} isLoading={isLoading} />\r\n          </>\r\n        )}\r\n        {isModalOpen && (\r\n          <Modal onCloseModal={this.closeModal} modalImage={modalImage} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App/App';\r\nimport styles from '../src/index.module.css';\r\n\r\nReactDOM.render(<App className={styles} />, document.getElementById('root'));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__Kd6jA\",\"SearchForm\":\"Searchbar_SearchForm__2JICl\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1Lc6o\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3-M0o\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1ohLg\",\"SearchForm-input\":\"Searchbar_SearchForm-input__tNU1p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__shZnH\",\"Image\":\"ImageGalleryItem_Image__xDTbR\"};"],"sourceRoot":""}